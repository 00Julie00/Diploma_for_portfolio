# Дипломный проект по профессии «Тестировщик»

## Цели проекта

В рамках проекта необходимо автоматизировать тестирование комплексного сервиса покупки тура, взаимодействующего с СУБД и API Банка.

## О проекте
Приложение представляет из себя веб-сервис, который предоставляет возможность купить тур по определённой цене с помощью двух способов:

* Обычная оплата по дебетовой карте
* Уникальная технология: выдача кредита по данным банковской карты

<details>
<summary> Подробнее о проекте </summary>
![image](https://github.com/00Julie00/Diploma_for_portfolio/assets/115406267/76b7da7c-d72a-482a-be5f-9b5a7792d151)


Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей (далее - Payment Gate)
* кредитному сервису (далее - Credit Gate)

Сервис может взаимодействоватьс СУБД  MySql и PostgreSql

База данных хранит информацию о заказах, платежах, статусах карт, способах оплаты.
</details>

## Документация

[План автоматизации тестирования веб-формы сервиса покупки туров](Documents/Plan.md)

[Отчёт о проведенном тестировании]

[Отчёт о проведённой автоматизации]

## Предварительные требования
Для запуска приложения на машине должно быть установленно следующее ПО:
* Docker Desktop - Приложение для скачивания и запуска контейнеров. Необходимо для запуска для установки и использования БД MySQL и PostgeSQL, а также эмулятора банковского сервиса.
* IntelliJ IDEA - Среда разработки и запуска програм написанных на различных языках.
* Git - Cистема управления версиями с распределенной архитектурой. Нужна для отслеживания и ведения истории и изменения файлов в проекте.

## Запуск приложения

### Запуск окружения
1. Необходимо склонировать репозиторий или скачать архив по [ссылке](https://github.com/00Julie00/Diploma_for_portfolio). Или воспользоваться VCS Git, встроенной в
   IntelliJ IDEA.
1. Запустить необходимые базы данных MySQL и PostgreSQL, а также эмулятор банковского сервиса. Параметры для запуска хранятся в
   файле `docker-compose.yml`. Для запуска необходимо ввести в терминале IntelliJ IDEA команду:

 * `docker compose up`
1. Открыть отдельную вкладку в терминале и проверить запущенные контейнеры командой :
 * `docker container ls`
1. В новой вкладке терминала ввести следующую команду в зависимости от базы данных

 * `java -Dspring.datasource.url=jdbc:mysql://localhost:3306/app -jar ./artifacts/aqa-shop.jar` - для MySQL
 * `java -Dspring.datasource.url=jdbc:postgresql://localhost:5432/app -jar ./artifacts/aqa-shop.jar` - для PostgreSQL
1. Проверить доступность веб-сервиса  по адресу

 * `http://localhost:8080/`
1. ## Запуск автотестов

1. Для запуска автотестов с "MySQL",  необходимо открыть новую вкладку терминала и ввести следующую команду:
 * `./gradlew test -Dselenide.headless=true Ddb.url=jdbc:mysql://localhost:3306/app --info`
2. Для запуска автотестов с "PostgreSQL",  необходимо открыть новую вкладку терминала и ввести следующую команду:
 * `./gradlew test -Dselenide.headless=true -Ddb.url=jdbc:postgresql://localhost:5432/app --info`
 
## Запуск отчета тестирования

1. Для запуска и просмотра отчета по результатам тестирования, с помощью "Allure", выполнить по очереди команды:
 * `gradlew allureReport`
 * `gradlew allureServe`
 
## Завершения работы Sut 

1. Для завершения работы SUT, необходимо в терминале, где был запущен SUT, ввести команду:
 * `Ctrl+C`
 
## Остановка и удаление контейнера
1. Для остановки работы контейнеров "Docker-Compose", необходимо ввести в терминал следующую команду: 

 * `docker-compose down`
